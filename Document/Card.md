# Card å­ç³»çµ± - æˆ°é¬¥å¡ç‰Œå¯¦é«”ç®¡ç†æ©Ÿåˆ¶

## ğŸ¯ å­ç³»çµ±å®šä½èˆ‡è·è²¬

**Card å­ç³»çµ±æ˜¯ GameModel\Entity ä¸­è² è²¬æˆ°é¬¥å…§å¡ç‰Œå¯¦é«”ç®¡ç†çš„æ ¸å¿ƒæ©Ÿåˆ¶**ï¼Œå°‡ Instance å±¤çš„å¡ç‰Œå¯¦ä¾‹è½‰æ›ç‚ºæˆ°é¬¥ä¸­å¯æ“ä½œçš„å‹•æ…‹å¯¦é«”ã€‚ç®¡ç†å¡ç‰Œåœ¨æˆ°é¬¥ä¸­çš„ç‹€æ…‹è®ŠåŒ–ã€å€åŸŸè½‰ç§»ã€å±¬æ€§ä¿®æ”¹ç­‰æ‰€æœ‰èˆ‡æˆ°é¬¥ç›¸é—œçš„å¡ç‰Œé‚è¼¯ã€‚

## ğŸ“Š å¡ç‰Œå¯¦é«”æ¶æ§‹è¨­è¨ˆ

### å¯¦é«”-å€åŸŸåˆ†é›¢è¨­è¨ˆ
**å¡ç‰Œå¯¦é«”å±¤**ï¼šç®¡ç†å–®å¼µå¡ç‰Œçš„ç‹€æ…‹ã€å±¬æ€§èˆ‡è¡Œç‚ºé‚è¼¯
**å€åŸŸç®¡ç†å±¤**ï¼šç®¡ç†ä¸åŒå¡ç‰Œå€åŸŸï¼ˆç‰Œåº«ã€æ‰‹ç‰Œã€å¢“åœ°ç­‰ï¼‰çš„é›†åˆæ“ä½œ
**å±¬æ€§ç³»çµ±å±¤**ï¼šè™•ç†æˆ°é¬¥ä¸­å¡ç‰Œçš„å‹•æ…‹å±¬æ€§è®ŠåŒ–
**Buff ç®¡ç†å±¤**ï¼šè™•ç†å¡ç‰Œä¸Šçš„è‡¨æ™‚å¢ç›Šæ•ˆæœ

### æ ¸å¿ƒå¡ç‰Œå¯¦é«”

#### å¡ç‰Œæ ¸å¿ƒå¯¦é«”
**[CardEntity.cs](Assets/Scripts/GameModel/Entity/Card/CardEntity.cs)** æˆ°é¬¥ä¸­å–®å¼µå¡ç‰Œçš„å®Œæ•´è¡¨ç¤º
- **èº«ä»½ç®¡ç†**ï¼šé€é `Identity` èˆ‡ `OriginCardInstanceGuid` å»ºç«‹èˆ‡ Instance å±¤çš„é€£æ¥
- **è³‡æ–™é€£çµ**ï¼šé€é `CardDataId` é€£æ¥åˆ° GameData ä¸­çš„éœæ…‹å®šç¾©
- **å‹•æ…‹å±¬æ€§**ï¼šç®¡ç†æˆ°é¬¥ä¸­çš„è²»ç”¨ã€å¨åŠ›ç­‰å¯è®Šå±¬æ€§
- **æ•ˆæœç³»çµ±**ï¼šæ•´åˆå¡ç‰Œæ•ˆæœèˆ‡è§¸ç™¼æ™‚æ©Ÿçš„å®Œæ•´é‚è¼¯

#### å¡ç‰Œå±¬æ€§å¯¦é«”  
**[CardPropertyEntity.cs](Assets/Scripts/GameModel/Entity/Card/CardPropertyEntity.cs)** ç®¡ç†å¡ç‰Œçš„ç‰¹æ®Šå±¬æ€§

## ğŸ—ƒï¸ å¡ç‰Œå€åŸŸç®¡ç†ç³»çµ±

### å€åŸŸæŠ½è±¡æ¶æ§‹
**[CardCollectionZone.cs](Assets/Scripts/GameModel/Entity/Card/CardCollectionZone.cs)** æä¾›çµ±ä¸€çš„å¡ç‰Œå€åŸŸç®¡ç†ä»‹é¢
- **é¡å‹æ¨™è­˜**ï¼šé€é `CardCollectionType` æ˜ç¢ºå€åˆ†ä¸åŒå€åŸŸ
- **çµ±ä¸€æ“ä½œ**ï¼šæä¾›æ·»åŠ ã€ç§»é™¤ã€æœå°‹å¡ç‰Œçš„æ¨™æº–ä»‹é¢
- **é›†åˆç®¡ç†**ï¼šç¶­è­·å„å€åŸŸçš„å¡ç‰Œé›†åˆç‹€æ…‹

### å°ˆé–€å€åŸŸå¯¦é«”

#### ç‰Œåº«ç®¡ç†
**[DeckEntity.cs](Assets/Scripts/GameModel/Entity/Card/DeckEntity.cs)** æˆ°é¬¥ä¸­çš„ç‰Œåº«ç®¡ç†
- **æŠ½ç‰Œæ©Ÿåˆ¶**ï¼š`PopCard` æä¾›å¾ç‰Œåº«é ‚æŠ½å–å¡ç‰Œçš„é‚è¼¯
- **æ´—ç‰ŒåŠŸèƒ½**ï¼š`EnqueueCardsThenShuffle` æ”¯æ´å¡ç‰Œå›æ”¶èˆ‡æ´—ç‰Œ
- **é †åºç®¡ç†**ï¼šç¶­è­·ç‰Œåº«ä¸­å¡ç‰Œçš„æ’åˆ—é †åº

#### æ‰‹ç‰Œç®¡ç†
**[HandCardEntity.cs](Assets/Scripts/GameModel/Entity/Card/HandCardEntity.cs)** æˆ°é¬¥ä¸­çš„æ‰‹ç‰Œç®¡ç†
- **å®¹é‡é™åˆ¶**ï¼šé€é `MaxCount` ç®¡ç†æ‰‹ç‰Œä¸Šé™
- **æ¸…ç†æ©Ÿåˆ¶**ï¼š`ClearHand` å¯¦ç¾å›åˆçµæŸæ™‚çš„æ‰‹ç‰Œè™•ç†
- **ä¿ç•™é‚è¼¯**ï¼šè‡ªå‹•è­˜åˆ¥ä¸¦ä¿ç•™å…·æœ‰ Preserved å±¬æ€§çš„å¡ç‰Œ

#### å¢“åœ°ç®¡ç†
**[GraveyardEntity.cs](Assets/Scripts/GameModel/Entity/Card/GraveyardEntity.cs)** æˆ°é¬¥ä¸­çš„å¢“åœ°ç®¡ç†
- **å…¨éƒ¨å›æ”¶**ï¼š`PopAllCards` æ”¯æ´å¢“åœ°æ‰€æœ‰å¡ç‰Œçš„å›æ”¶
- **é¸æ“‡å›æ”¶**ï¼š`PopRecycleCards` åªå›æ”¶å…·æœ‰ Recycle å±¬æ€§çš„å¡ç‰Œ
- **éæ¿¾é‚è¼¯**ï¼šåŸºæ–¼å¡ç‰Œå±¬æ€§çš„æ™ºèƒ½éæ¿¾èˆ‡ç®¡ç†

#### ç‰¹æ®Šå€åŸŸ
- **[DisposeZoneEntity.cs](Assets/Scripts/GameModel/Entity/Card/DisposeZoneEntity.cs)**ï¼šç®¡ç†è¢«æ£„ç½®çš„å¡ç‰Œ
- **[ExclusionZoneEntity.cs](Assets/Scripts/GameModel/Entity/Card/ExclusionZoneEntity.cs)**ï¼šç®¡ç†è¢«æ’é™¤çš„å¡ç‰Œ

## ğŸ”§ èˆ‡ Instance ç³»çµ±çš„é—œä¿‚

### ç”Ÿå‘½é€±æœŸè½‰æ›
- **æˆ°é¬¥é–‹å§‹**ï¼šCardInstance â†’ CardEntity å¯¦é«”åŒ–è½‰æ›
- **æˆ°é¬¥é€²è¡Œ**ï¼šCardEntity ç®¡ç†æ‰€æœ‰æˆ°é¬¥å…§çš„ç‹€æ…‹è®ŠåŒ–
- **æˆ°é¬¥çµæŸ**ï¼šCardEntity â†’ CardInstance ç‹€æ…‹å›å¯«ï¼ˆå¦‚æœ‰éœ€è¦ï¼‰

### è³‡æ–™æµå‘è¨­è¨ˆ
- **éœæ…‹è³‡æ–™**ï¼šé€é `CardDataId` é€£æ¥ GameData å®šç¾©
- **å¯¦ä¾‹è³‡æ–™**ï¼šé€é `OriginCardInstanceGuid` è¿½è¹¤ä¾†æº Instance
- **å‹•æ…‹è³‡æ–™**ï¼šæˆ°é¬¥å…§çš„æ‰€æœ‰ç‹€æ…‹è®ŠåŒ–èˆ‡è‡¨æ™‚æ•ˆæœ