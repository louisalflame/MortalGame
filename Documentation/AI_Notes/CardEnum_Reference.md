# CardEnum æšèˆ‰åƒè€ƒç­†è¨˜

## æšèˆ‰æ¦‚è¿°
`CardEnum.cs`åŒ…å«äº†å¡ç‰‡ç³»çµ±ä¸­æ‰€æœ‰é‡è¦çš„æšèˆ‰å®šç¾©ï¼Œé€™äº›æšèˆ‰ç‚ºå¡ç‰‡çš„åˆ†é¡ã€ç‹€æ…‹å’Œè¡Œç‚ºæä¾›äº†æ¨™æº–åŒ–çš„å®šç¾©ã€‚æª”æ¡ˆæ¡ç”¨ä¸­æ–‡è¨»é‡‹ï¼Œé«”ç¾äº†æ­¦ä¿ å¡ç‰ŒéŠæˆ²çš„ä¸»é¡Œã€‚

**æª”æ¡ˆä½ç½®**: [Assets/Scripts/GameData/Card/CardEnum.cs](../../../Assets/Scripts/GameData/Card/CardEnum.cs)

## æšèˆ‰åˆ—è¡¨ç¸½è¦½

| æšèˆ‰åç¨± | ç”¨é€” | ç‰¹æ®Šæ¨™è¨˜ |
|----------|------|----------|
| **CardType** | å¡ç‰‡é¡å‹åˆ†é¡ | - |
| **CardRarity** | å¡ç‰‡ç¨€æœ‰åº¦ç­‰ç´š | - |
| **CardTheme** | å¡ç‰‡é–€æ´¾ä¸»é¡Œ | - |
| **CardProperty** | å¡ç‰‡å±¬æ€§æ¨™è¨˜ | `[Flags]` ä½å…ƒé®ç½© |
| **CardTriggeredTiming** | è§¸ç™¼æ•ˆæœæ™‚æ©Ÿ | - |
| **CardCollectionType** | å¡ç‰‡é›†åˆé¡å‹ | - |
| **TargetLogicTag** | ç›®æ¨™é‚è¼¯æ¨™ç±¤ | - |

## è©³ç´°æšèˆ‰åˆ†æ

### ğŸ—¡ï¸ CardType - å¡ç‰‡é¡å‹
```csharp
public enum CardType
{
    None = 0,
    Attack,     // æ…äºº
    Defense,    // å‚™æ     
    Speech,     // å˜´æ”»
    Sneak,      // æš—å™¨
    Special,    // çµ•æ‹›
    Item        // é“å…·
}
```

**æ­¦ä¿ ä¸»é¡Œè¨­è¨ˆ**ï¼š
- **Attack (æ”»æ“Š)**: "æ…äºº" - ç›´æ¥çš„ç‰©ç†æ”»æ“Š
- **Defense (é˜²ç¦¦)**: "å‚™æ" - é˜²ç¦¦å’Œä¿è­·æ€§æŠ€èƒ½
- **Speech (èªè¨€)**: "å˜´æ”»" - è¨€èªæ”»æ“Šå’Œå¿ƒç†æˆ°
- **Sneak (æš—å™¨)**: "æš—å™¨" - éš±è”½å’Œé–“æ¥æ”»æ“Š
- **Special (çµ•æ‹›)**: "çµ•æ‹›" - ç‰¹æ®ŠæŠ€èƒ½å’Œå¿…æ®ºæŠ€
- **Item (é“å…·)**: æ¶ˆè€—å“å’Œè£å‚™

### ğŸ’ CardRarity - å¡ç‰‡ç¨€æœ‰åº¦
```csharp
public enum CardRarity
{
    None = 0,
    Common,     // æ™®é€š
    Rare,       // ç¨€æœ‰
    Epic,       // å²è©©
    Legendary   // å‚³èªª
}
```

**æ¨™æº–ç¨€æœ‰åº¦ç³»çµ±**ï¼š
- éµå¾ªå¸¸è¦‹çš„éŠæˆ²ç¨€æœ‰åº¦åˆ†ç´š
- å¾æ™®é€šåˆ°å‚³èªªéå¢çš„åƒ¹å€¼é«”ç³»
- ç”¨æ–¼å¡ç‰‡ç²å–æ©Ÿç‡å’Œå¼·åº¦å¹³è¡¡

### ğŸ® CardTheme - å¡ç‰‡é–€æ´¾ä¸»é¡Œ
```csharp
public enum CardTheme
{
    None = 0,
    TangSect,   // å”é–€
    Emei,       // å³¨åµ‹
    Songshan,   // åµ©å±±
    BeggarClan, // ä¸å¹«
    DianCang    // é»è’¼
}
```

**æ­¦ä¿ é–€æ´¾è¨­å®š**ï¼š
- **TangSect (å”é–€)**: ä»¥æš—å™¨å’Œæ¯’è¡“èå
- **Emei (å³¨åµ‹)**: ä½›é–€æ­¦å­¸ï¼Œä»¥åŠæ³•è‘—ç¨±
- **Songshan (åµ©å±±)**: åµ©å±±æ´¾ï¼Œæ­£çµ±æ­¦å­¸
- **BeggarClan (ä¸å¹«)**: å¤©ä¸‹ç¬¬ä¸€å¤§å¹«ï¼Œä»¥æŒæ³•èå
- **DianCang (é»è’¼)**: é»è’¼æ´¾ï¼Œä»¥åŠæ³•è¦‹é•·

**è¨­è¨ˆç”¨é€”**ï¼š
- å¡ç‰‡çµ„åˆå’Œå”åŒæ•ˆæœ
- ä¸»é¡Œå¥—ç‰Œæ§‹ç¯‰
- é–€æ´¾å°ˆå±¬æŠ€èƒ½ç³»çµ±

### ğŸ·ï¸ CardProperty - å¡ç‰‡å±¬æ€§ (ä½å…ƒé®ç½©)
```csharp
[Flags]
public enum CardProperty : int
{
    None                = 0,
    EffectRepeat         = 1,        // æ•ˆæœé‡è¤‡
    Recycle             = 1 << 1,    // å¯å›æ”¶
    PowerAddition       = 1 << 2,    // å¨åŠ›åŠ æˆ
    CostAddition        = 1 << 3,    // è²»ç”¨åŠ æˆ
    Initialize          = 1 << 4,    // åˆå§‹åŒ–
    Preserved           = 1 << 5,    // ä¿ç•™
    Sealed              = 1 << 6,    // å°å°
    Consumable          = 1 << 7,    // æ¶ˆè€—å“
    Dispose             = 1 << 8,    // éŠ·æ¯€
    AutoDispose         = 1 << 9,    // è‡ªå‹•éŠ·æ¯€
}
```

**ä½å…ƒé®ç½©è¨­è¨ˆ**ï¼š
- ä½¿ç”¨`[Flags]`ç‰¹æ€§æ”¯æ´çµ„åˆå±¬æ€§
- æ¯å€‹å±¬æ€§ä½”ç”¨ä¸€å€‹ä½å…ƒä½
- å¯åŒæ™‚æ“æœ‰å¤šå€‹å±¬æ€§

**å±¬æ€§åŠŸèƒ½èªªæ˜**ï¼š
- **EffectRepeat**: æ•ˆæœå¯ä»¥é‡è¤‡è§¸ç™¼
- **Recycle**: å¡ç‰‡å¯ä»¥å›æ”¶é‡ç”¨
- **PowerAddition**: å¨åŠ›å€¼æœ‰é¡å¤–åŠ æˆ
- **CostAddition**: è²»ç”¨æœ‰é¡å¤–ä¿®æ­£
- **Initialize**: æˆ°é¬¥é–‹å§‹æ™‚è§¸ç™¼
- **Preserved**: å›åˆçµæŸæ™‚ä¸è¢«ä¸Ÿæ£„
- **Sealed**: ç„¡æ³•ä½¿ç”¨ï¼ˆè¢«å°å°ï¼‰
- **Consumable**: æˆ°é¬¥çµæŸå¾Œç§»é™¤ï¼Œä¸‹æ¬¡æˆ°é¬¥é‡æ–°åŠ å…¥
- **Dispose**: æ°¸ä¹…ç§»é™¤
- **AutoDispose**: ä½¿ç”¨å¾Œè‡ªå‹•éŠ·æ¯€

### â° CardTriggeredTiming - è§¸ç™¼æ™‚æ©Ÿ
```csharp
public enum CardTriggeredTiming
{
    None = 0,
    Drawed,           // è¢«æŠ½åˆ°æ™‚
    EffectDrawed,     // æ•ˆæœæŠ½ç‰Œæ™‚
    Played,           // è¢«ä½¿ç”¨æ™‚
    EffectPlayed,     // æ•ˆæœä½¿ç”¨æ™‚
    Preserved,        // è¢«ä¿ç•™æ™‚
    Discarded,        // è¢«ä¸Ÿæ£„æ™‚
    EffectDiscarded,  // æ•ˆæœä¸Ÿæ£„æ™‚
    Initialize,       // åˆå§‹åŒ–æ™‚
}
```

**è§¸ç™¼æ™‚æ©Ÿèªªæ˜**ï¼š
- **Drawé¡**: èˆ‡æŠ½ç‰Œç›¸é—œçš„æ™‚æ©Ÿ
- **Playé¡**: èˆ‡ä½¿ç”¨å¡ç‰‡ç›¸é—œçš„æ™‚æ©Ÿ
- **Effecté¡**: å€åˆ†ä¸»å‹•ä½¿ç”¨å’Œæ•ˆæœè§¸ç™¼
- **å…¶ä»–**: ç‰¹æ®Šç‹€æ…‹è®ŠåŒ–æ™‚æ©Ÿ

**TODOè¨»é‡‹**ï¼š
```csharp
// TODO: å¡ç‰‡é—œéµå­—æ•ˆæœ 
// ex:  ä¿ç•™/éˆå…‰/é¤˜æ³¢
```
è¡¨ç¤ºé‚„è¨ˆç•«æ·»åŠ æ›´å¤šè§¸ç™¼æ™‚æ©Ÿé¡å‹ã€‚

### ğŸ“š CardCollectionType - å¡ç‰‡é›†åˆé¡å‹
```csharp
public enum CardCollectionType
{
    None = 0,
    Deck,           // ç‰Œçµ„
    HandCard,       // æ‰‹ç‰Œ
    Graveyard,      // å¢“åœ°
    ExclusionZone,  // é™¤å¤–å€
    DisposeZone,    // éŠ·æ¯€å€
}
```

**å¡ç‰‡å€åŸŸç®¡ç†**ï¼š
- **Deck**: ç©å®¶çš„ä¸»ç‰Œçµ„
- **HandCard**: ç›®å‰æ‰‹ä¸­çš„å¡ç‰‡
- **Graveyard**: å·²ä½¿ç”¨çš„å¡ç‰‡å¢“åœ°
- **ExclusionZone**: è‡¨æ™‚é™¤å¤–çš„å¡ç‰‡
- **DisposeZone**: æ°¸ä¹…éŠ·æ¯€çš„å¡ç‰‡

### ğŸ¯ TargetLogicTag - ç›®æ¨™é‚è¼¯æ¨™ç±¤
```csharp
public enum TargetLogicTag
{
    None = 0,
    ToEnemy,    // å°æ•µäºº
    ToAlly,     // å°å‹è»
    ToRandom,   // éš¨æ©Ÿç›®æ¨™
}
```

**ç°¡å–®ç›®æ¨™åˆ†é¡**ï¼š
- æä¾›åŸºæœ¬çš„ç›®æ¨™é¡å‹æ¨™è¨˜
- é…åˆğŸ”—*éœ€è¦Target_System.md*ä½¿ç”¨
- æ”¯æ´AIæ±ºç­–å’Œè‡ªå‹•ç›®æ¨™é¸æ“‡

## è¨­è¨ˆæ¨¡å¼å’Œæœ€ä½³å¯¦è¸

### ğŸ—ï¸ æšèˆ‰è¨­è¨ˆåŸå‰‡

1. **é›¶å€¼èªç¾©**: æ‰€æœ‰æšèˆ‰éƒ½æœ‰`None = 0`ä½œç‚ºé è¨­å€¼
2. **èªç¾©æ˜ç¢º**: æ¯å€‹å€¼éƒ½æœ‰æ¸…æ™°çš„æ¥­å‹™å«ç¾©
3. **å¯æ“´å±•æ€§**: é ç•™äº†æ“´å±•ç©ºé–“
4. **é¡å‹å®‰å…¨**: ä½¿ç”¨å¼·å‹åˆ¥æšèˆ‰é¿å…éŒ¯èª¤

### ğŸ”§ ä½å…ƒé®ç½©æ¨¡å¼ (CardProperty)
```csharp
// æª¢æŸ¥å±¬æ€§
bool hasRecycle = (cardProperty & CardProperty.Recycle) != 0;

// çµ„åˆå±¬æ€§
CardProperty combined = CardProperty.Recycle | CardProperty.Preserved;

// ç§»é™¤å±¬æ€§
CardProperty removed = combined & ~CardProperty.Recycle;
```

### ğŸ“Š æšèˆ‰ä½¿ç”¨çµ±è¨ˆ

| æšèˆ‰ | ä¸»è¦ä½¿ç”¨å ´æ™¯ | é »ç‡ |
|------|-------------|------|
| **CardType** | å¡ç‰‡åˆ†é¡ã€UIé¡¯ç¤º | é«˜ |
| **CardProperty** | å¡ç‰‡è¡Œç‚ºé‚è¼¯ | é«˜ |
| **CardTriggeredTiming** | æ•ˆæœç³»çµ± | ä¸­ |
| **CardRarity** | å¡ç‰‡ç²å–ã€UI | ä¸­ |
| **CardTheme** | ä¸»é¡Œæ•ˆæœã€å¥—ç‰Œæ§‹ç¯‰ | ä¸­ |
| **CardCollectionType** | å¡ç‰‡ç®¡ç† | ä¸­ |
| **TargetLogicTag** | ç›®æ¨™ç³»çµ± | ä½ |

## æœ¬åœ°åŒ–è€ƒé‡

### ğŸŒ å¤šèªè¨€æ”¯æŒæº–å‚™
é›–ç„¶ç•¶å‰ä½¿ç”¨ä¸­æ–‡è¨»é‡‹ï¼Œä½†æšèˆ‰è¨­è¨ˆç‚ºè‹±æ–‡åç¨±ä¾¿æ–¼ï¼š
- ç¨‹å¼ç¢¼çš„åœ‹éš›åŒ–
- èˆ‡å¤–éƒ¨ç³»çµ±æ•´åˆ
- æœªä¾†çš„å¤šèªè¨€æ”¯æ´

### ğŸ­ ä¸»é¡Œä¸€è‡´æ€§
- å¡ç‰‡é¡å‹çš„ä¸­æ–‡è¨»é‡‹é«”ç¾æ­¦ä¿ ä¸»é¡Œ
- é–€æ´¾åç¨±ä¿æŒå‚³çµ±æ­¦ä¿ è¨­å®š
- å±¬æ€§åç¨±ä½¿ç”¨éŠæˆ²åŒ–èªè¨€

## ä¾è³´é—œä¿‚

### è¢«ä¾è³´çš„ç³»çµ±
- **ğŸ”— CardData**: ä½¿ç”¨æ‰€æœ‰æšèˆ‰å®šç¾© *åƒè€ƒCardData_Class.md*
- **ğŸ”— CardEntity**: ä½¿ç”¨å±¬æ€§å’Œé¡å‹æšèˆ‰ *éœ€è¦CardEntity_Class.md*
- **ğŸ”— æ•ˆæœç³»çµ±**: ä½¿ç”¨è§¸ç™¼æ™‚æ©Ÿæšèˆ‰ *éœ€è¦CardEffect_System.md*
- **ğŸ”— ç›®æ¨™ç³»çµ±**: ä½¿ç”¨ç›®æ¨™é‚è¼¯æ¨™ç±¤ *éœ€è¦Target_System.md*
- **ğŸ”— UIç³»çµ±**: é¡¯ç¤ºæšèˆ‰å°æ‡‰çš„æœ¬åœ°åŒ–æ–‡å­—

### æ½›åœ¨æ“´å±•é»
æ ¹æ“šTODOè¨»é‡‹ï¼Œæœªä¾†å¯èƒ½æ·»åŠ ï¼š
- æ›´å¤šè§¸ç™¼æ™‚æ©Ÿï¼ˆä¿ç•™/éˆå…‰/é¤˜æ³¢ï¼‰
- æ–°çš„å¡ç‰‡é¡å‹
- é¡å¤–çš„é–€æ´¾ä¸»é¡Œ
- æ›´å¤šå¡ç‰‡å±¬æ€§

## ä½¿ç”¨ç¯„ä¾‹

### åŸºæœ¬æšèˆ‰ä½¿ç”¨
```csharp
// å‰µå»ºæ”»æ“Šå‹å”é–€å¡ç‰‡
CardType type = CardType.Attack;
CardTheme theme = CardTheme.TangSect;
CardRarity rarity = CardRarity.Epic;
```

### ä½å…ƒé®ç½©æ“ä½œ
```csharp
// è¨­å®šå¤šé‡å±¬æ€§
CardProperty properties = CardProperty.Recycle | CardProperty.Preserved;

// æª¢æŸ¥æ˜¯å¦æœ‰ç‰¹å®šå±¬æ€§
if ((properties & CardProperty.Recycle) != 0)
{
    // è™•ç†å¯å›æ”¶å¡ç‰‡é‚è¼¯
}
```

### è§¸ç™¼æ™‚æ©Ÿåˆ¤æ–·
```csharp
// æ ¹æ“šæ™‚æ©Ÿè§¸ç™¼ä¸åŒæ•ˆæœ
switch (timing)
{
    case CardTriggeredTiming.Drawed:
        // æŠ½åˆ°æ™‚çš„æ•ˆæœ
        break;
    case CardTriggeredTiming.Played:
        // ä½¿ç”¨æ™‚çš„æ•ˆæœ
        break;
}
```

---

## ç›¸é—œæª”æ¡ˆ
| æª”æ¡ˆ | é—œä¿‚ | æè¿° |
|------|------|------|
| [CardData.cs](../../../Assets/Scripts/GameData/Card/CardData.cs) | è¢«ä¾è³´ | å¤§é‡ä½¿ç”¨é€™äº›æšèˆ‰å®šç¾© |
| [CardEntity.cs](../../../Assets/Scripts/GameModel/Entity/Card/CardEntity.cs) | è¢«ä¾è³´ | ä½¿ç”¨é¡å‹å’Œå±¬æ€§åˆ¤æ–· |
| [CardEffect.cs](../../../Assets/Scripts/GameData/Card/CardEffect.cs) | è¢«ä¾è³´ | æ•ˆæœç³»çµ±ä½¿ç”¨è§¸ç™¼æ™‚æ©Ÿ |

---

**æœ€å¾Œæ›´æ–°**: 2024-12-20  
**ç‰ˆæœ¬**: v1.0  
**ç‹€æ…‹**: âœ… å·²å®Œæˆ